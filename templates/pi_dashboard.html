{% extends "base.html" %}

{% block title %}PI Dashboard - Dental Age Estimation System{% endblock %}

{% block extra_css %}
<style>
    .step-number {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: linear-gradient(135deg, #0071e3 0%, #0077ed 100%);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 12px;
    }

    .step-card {
        padding: 20px;
        background: #f5f5f7;
        border-radius: 12px;
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .step-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }

    .step-card:nth-child(1) .step-number {
        background: linear-gradient(135deg, #0071e3 0%, #0077ed 100%);
    }

    .step-card:nth-child(2) .step-number {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .step-card:nth-child(3) .step-number {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }

    .step-card:nth-child(4) .step-number {
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    }
</style>
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Principal Investigator Dashboard</h1>
    <p>Perform blinded age estimations using dental development assessment</p>
</div>

<div
    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 32px;">
    <div class="card" style="background: linear-gradient(135deg, #0071e3 0%, #0077ed 100%); color: white;">
        <h3 style="color: white; margin-bottom: 8px;">Age Estimation</h3>
        <p style="opacity: 0.9; margin-bottom: 20px;">Perform manual age assessments</p>
        <a href="/estimate_age" class="btn" style="background: white; color: #0071e3;">Start Estimation</a>
    </div>

    <div class="card" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white;">
        <h3 style="color: white; margin-bottom: 8px;">Blinded Cases</h3>
        <p style="opacity: 0.9; margin-bottom: 20px;">View available cases for assessment</p>
        <a href="/estimate_age" class="btn" style="background: white; color: #10b981;">View Cases</a>
    </div>
</div>

<div class="card">
    <h2>Estimation Methods</h2>
    <div
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 16px;">
        <div style="padding: 20px; background: #f5f5f7; border-radius: 12px;">
            <h3 style="margin-bottom: 12px;">AlQahtani Method</h3>
            <p style="font-size: 14px; color: var(--apple-gray); margin-bottom: 12px;">
                Atlas-based approach using dental development stages for both primary and permanent dentition.
            </p>
            <ul style="font-size: 14px; color: var(--apple-gray); padding-left: 20px;">
                <li>Covers ages 0-23 years</li>
                <li>Uses both maxillary and mandibular teeth</li>
                <li>Includes primary and permanent dentition</li>
            </ul>
        </div>

        <div style="padding: 20px; background: #f5f5f7; border-radius: 12px;">
            <h3 style="margin-bottom: 12px;">Demirjian Method</h3>
            <p style="font-size: 14px; color: var(--apple-gray); margin-bottom: 12px;">
                Scoring system based on mandibular permanent teeth development stages.
            </p>
            <ul style="font-size: 14px; color: var(--apple-gray); padding-left: 20px;">
                <li>Uses 7 mandibular permanent teeth</li>
                <li>8-stage maturity scale (A-H)</li>
                <li>Weighted scoring system</li>
            </ul>
        </div>
    </div>
</div>

<div class="card" style="margin-top: 20px;">
    <h2>Assessment Protocol</h2>
    <div
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 16px;">
        <div class="step-card">
            <div class="step-number">1</div>
            <h4 style="margin-bottom: 8px;">Review OPG</h4>
            <p style="font-size: 14px; color: var(--apple-gray);">Examine the orthopantomogram for dental development
            </p>
        </div>
        <div class="step-card">
            <div class="step-number">2</div>
            <h4 style="margin-bottom: 8px;">Assess Stages</h4>
            <p style="font-size: 14px; color: var(--apple-gray);">Determine development stage for each tooth</p>
        </div>
        <div class="step-card">
            <div class="step-number">3</div>
            <h4 style="margin-bottom: 8px;">Calculate Age</h4>
            <p style="font-size: 14px; color: var(--apple-gray);">Apply methodology to estimate chronological age</p>
        </div>
        <div class="step-card">
            <div class="step-number">4</div>
            <h4 style="margin-bottom: 8px;">Submit Estimation</h4>
            <p style="font-size: 14px; color: var(--apple-gray);">Record final age estimation for blinded case</p>
        </div>
    </div>
</div>

<div class="card"
    style="margin-top: 20px; background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: 1px solid #fbbf24;">
    <h3 style="margin-bottom: 12px;">⚠️ Important Reminder</h3>
    <p style="font-size: 14px; color: var(--apple-dark);">
        All cases are blinded. You will not have access to participant identities or actual ages during the estimation
        process.
        This ensures unbiased assessment and maintains research integrity.
    </p>
</div>
{% endblock %}